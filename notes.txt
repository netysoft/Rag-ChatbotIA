

Lancer apiRAGPDFMultiUsers.py

Pour le test 

- dans chatInterface  

j'ai forcé un client_id dans le body de la response

body: JSON.stringify({ text: input, client_id: "2" }),


Et j'ai modifié le content de assistantMessage pour récupérer le content , le RAGMultiUsers n'envoie plus "story" mais "answer"

const assistantMessage: Message = {
        id: (Date.now() + 1).toString(),
        role: 'assistant',
        content: data.answer || 'Aucune réponse reçue',
        timestamp: new Date(),
      };





/****************************
    try {
      const response = await fetch('http://localhost:5000/generate', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ text: input, client_id: "2" }),
      });

      if (!response.ok) {
        throw new Error('Erreur lors de la requête');
      }

      const data = await response.json();

      const assistantMessage: Message = {
        id: (Date.now() + 1).toString(),
        role: 'assistant',
        content: data.answer || 'Aucune réponse reçue',
        timestamp: new Date(),
      };


- Dans pdfuploader j'ai rajouté un client_id dans l url

const response = await fetch('http://localhost:5000/upload?client_id=1',


